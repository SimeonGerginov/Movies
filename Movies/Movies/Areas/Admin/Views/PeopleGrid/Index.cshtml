@using Movies.Web.Areas.Admin.Models

<div class="container body-content">
    <h1>
        <i class="fa fa-globe fa-3x" aria-hidden="true"></i>
        People Grid
    </h1>

    @(Html.Kendo()
          .Grid<GridPersonViewModel>()
          .Name("PeopleGrid")
          .Columns(columns =>
          {
              columns.Bound(p => p.Picture)
                     .ClientTemplate("<img src='" + "#: PictureFile #" + "'/>");
              columns.Command(command =>
              {
                  command.Edit();
                  command.Destroy();
              }).Width(1000);
          })
          .Editable(editable => editable.Mode(GridEditMode.InLine))
          .Scrollable()
          .Pageable(p =>
          {
              p.Refresh(true);
              p.PageSizes(true);
          })
          .Sortable()
          .DataSource(source =>
          {
              source.Ajax()
                  .Model(m =>
                  {
                      m.Id(p => p.Id);
                  })
                  .Read(p => p.Action("ReadPeople", "PeopleGrid")).PageSize(GlobalConstants.GridsPageSize)
                  .Destroy(p => p.Action("DeletePerson", "PeopleGrid"))
                  .Update(p => p.Action("EditPerson", "PeopleGrid"));
          })
          .Filterable(f => f.Mode(GridFilterMode.Menu))
          .Deferred())
</div>